<h2>Positions Report</h2>

{{ shop.metafields.acf_settings.customer }}

<p>count sections</p>
  <p>build table rows for each section</p>
  <p>insert one cell per section of each field value</p>

  
  
<table>
  <tr>
    {% for field in shop.metafields.acf_settings.customer.fields %}   
    {% assign field_value = customer.metafields[field.namespace][field.name] | split: ", " %}
      {{ field_value.size }}
      <th>{{ field.label }}</th>
    {% endfor %}
  </tr>

  <tr>
    <td>value</td>
    <td>value</td>
    <td>value</td>
    <td>value</td>
  </tr>
  
  
</table>



{% for field in shop.metafields.acf_settings.customer.fields %}

  {% assign field_section = field.section %}
  Section ID: {{ field_section.id }}
  {% assign field_value = customer.metafields[field.namespace][field.name] %}
  {% assign i = forloop.index0 %}

  {% for section in field_section %}
    {{ i }}
    <p>{{ field.label }}: {{ field_value }}</p>
  {% endfor %}

  
  {% if field_section.id != current_section.id %}

  {% endif %}


  {% assign current_section = field_section %}

{% endfor %}

<table>
  <tr>
    {% for field in shop.metafields.acf_settings.customer.fields %}
        <th>{{ field.label }}</th>
    {% endfor %}
  </tr>


  <tr>
    {{ customer.metafields.position }}

{% for item in customer.metafields.position.coffee %}
    <td>{{ item | replace: '-', ' ' }}</td>
{% endfor %}
{% for item in customer.metafields.position.status %}
    <td>{{ item }}</td>
{% endfor %}
{% for item in customer.metafields.position.booked %}
    <td>{{ item }}</td>
{% endfor %}
{% for item in customer.metafields.position.balance %}
    <td>{{ item }}</td>
{% endfor %}
  </tr>

</table>





(location: 'snippets/account-positions-report.liquid')